<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capify store | Financial Reports</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#3b82f6",
                        "background-dark": "#0b1120",
                        "card-dark": "#1e293b",
                    },
                    fontFamily: { display: ["Inter", "sans-serif"] },
                },
            },
        };
    </script>
    <style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; vertical-align: middle; }
        .material-symbols-outlined.fill { font-variation-settings: 'FILL' 1; }
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body class="bg-background-dark text-slate-100 antialiased font-display h-screen flex overflow-hidden">

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebarOverlay" onclick="toggleSidebar()" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[45] hidden transition-opacity duration-300 opacity-0"></div>

    <!-- Unified Sidebar -->
    <aside id="mainSidebar" class="fixed inset-y-0 left-0 w-72 flex flex-col bg-[#0b1120] border-r border-slate-800/60 h-screen z-50 transition-transform duration-300 -translate-x-full lg:translate-x-0 lg:static">
        <div class="p-8 flex items-center justify-between gap-4">
            <div class="flex items-center gap-4">
                <div class="bg-primary p-2.5 rounded-2xl shadow-lg shadow-primary/30">
                    <span class="material-symbols-outlined text-white text-2xl font-bold">local_mall</span>
                </div>
                <h1 class="text-white text-2xl font-black tracking-tighter">Capify store</h1>
            </div>
            <button onclick="toggleSidebar()" class="lg:hidden text-slate-400 hover:text-white transition-colors">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>

        <nav class="flex-1 px-4 mt-2 space-y-2">
            <a href="index.html" class="flex items-center gap-4 px-5 py-4 rounded-2xl text-slate-400 hover:bg-slate-800/10 hover:text-white transition-all group">
                <span class="material-symbols-outlined text-[22px]">dashboard</span>
                <p class="text-sm font-semibold">Dashboard</p>
            </a>
            <a href="orders.html" class="flex items-center gap-4 px-5 py-4 rounded-2xl text-slate-400 hover:bg-slate-800/10 hover:text-white transition-all group">
                <span class="material-symbols-outlined text-[22px]">shopping_cart</span>
                <p class="text-sm font-semibold">Orders</p>
            </a>
            <a href="reports.html" class="flex items-center gap-4 px-5 py-4 rounded-2xl bg-primary/10 text-primary shadow-sm shadow-primary/5 transition-all group">
                <span class="material-symbols-outlined fill text-[22px]">analytics</span>
                <p class="text-sm font-bold">Financial Reports</p>
            </a>
        </nav>

        <div class="p-6 border-t border-slate-800/50">
            <div class="flex items-center gap-4 p-3 bg-slate-800/30 rounded-2xl border border-slate-700/30">
                <div class="size-10 rounded-full bg-orange-600 flex items-center justify-center font-black text-white shadow-md">I</div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-black text-white truncate">Ibrahim</p>
                    <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Sys Manager</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col h-screen overflow-y-auto bg-background-dark">
        <header class="h-20 flex items-center justify-between px-6 lg:px-10 border-b border-slate-800/60 bg-background-dark/80 backdrop-blur-xl sticky top-0 z-40">
            <div class="flex items-center gap-4 lg:hidden">
                <button onclick="toggleSidebar()" class="p-2.5 rounded-xl bg-slate-800/50 text-white active:scale-95 transition-all">
                    <span class="material-symbols-outlined">menu</span>
                </button>
                <div class="bg-primary p-2 rounded-xl shadow-lg shadow-primary/20">
                    <span class="material-symbols-outlined text-white text-xl font-bold">local_mall</span>
                </div>
            </div>
            
            <div class="hidden lg:block">
                <h2 class="text-xl font-black text-white">Financial Intelligence</h2>
                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1">Real-time performance metrics</p>
            </div>

            <div class="flex items-center gap-4">
                <div class="hidden sm:flex items-center bg-slate-800/50 border border-slate-700/50 rounded-2xl p-1 px-3">
                    <span class="material-symbols-outlined text-slate-500 text-[18px]">calendar_today</span>
                    <select class="bg-transparent border-none text-xs font-bold text-slate-300 py-2 outline-none cursor-pointer">
                        <option>Last 30 Days</option>
                        <option>Q1 2026</option>
                        <option>Year 2025</option>
                    </select>
                </div>
                <button class="flex items-center gap-2 px-5 py-2.5 rounded-2xl bg-primary text-white text-sm font-black hover:bg-blue-600 transition-all shadow-lg shadow-primary/20 active:scale-95">
                    <span class="material-symbols-outlined text-[20px]">file_download</span>
                    <span class="hidden sm:inline">Export Data</span>
                    <span class="sm:hidden text-xs">Export</span>
                </button>
            </div>
        </header>

        <main class="p-6 lg:p-10 space-y-8 lg:space-y-10 w-full">
            <!-- Metric Cards Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8">
                <!-- Net Revenue -->
                <div class="bg-[#1e293b] p-8 rounded-[2.5rem] border border-slate-800 shadow-xl group hover:border-emerald-500/30 transition-all">
                    <div class="flex justify-between items-start mb-6">
                        <div class="p-3 bg-emerald-500/10 rounded-2xl text-emerald-500">
                            <span class="material-symbols-outlined text-2xl">payments</span>
                        </div>
                        <span class="text-emerald-500 text-[10px] font-black bg-emerald-500/10 px-2.5 py-1 rounded-lg">+14.2% ↑</span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-black uppercase tracking-[2px]">Net Revenue</p>
                    <p id="report-net-revenue" class="text-3xl font-black mt-2 text-white">$0.00</p>
                    <p class="text-[10px] text-slate-500 mt-2 font-medium">vs $112,500 last month</p>
                </div>

                <!-- Return Loss -->
                <div class="bg-[#1e293b] p-8 rounded-[2.5rem] border border-slate-800 shadow-xl group hover:border-rose-500/30 transition-all">
                    <div class="flex justify-between items-start mb-6">
                        <div class="p-3 bg-rose-500/10 rounded-2xl text-rose-500">
                            <span class="material-symbols-outlined text-2xl">assignment_return</span>
                        </div>
                        <span class="text-rose-500 text-[10px] font-black bg-rose-500/10 px-2.5 py-1 rounded-lg">-2.1% ↓</span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-black uppercase tracking-[2px]">Return Loss</p>
                    <p id="report-return-loss" class="text-3xl font-black mt-2 text-white">$0.00</p>
                    <p class="text-[10px] text-slate-500 mt-2 font-medium">3.4% of gross sales</p>
                </div>

                <!-- Operational Costs -->
                <div class="bg-[#1e293b] p-8 rounded-[2.5rem] border border-slate-800 shadow-xl group hover:border-amber-500/30 transition-all">
                    <div class="flex justify-between items-start mb-6">
                        <div class="p-3 bg-amber-500/10 rounded-2xl text-amber-500">
                            <span class="material-symbols-outlined text-2xl">precision_manufacturing</span>
                        </div>
                        <span class="text-amber-500 text-[10px] font-black bg-amber-500/10 px-2.5 py-1 rounded-lg">Stable</span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-black uppercase tracking-[2px]">Ops Costs</p>
                    <p id="report-ops-costs" class="text-3xl font-black mt-2 text-white">$0.00</p>
                    <p class="text-[10px] text-slate-500 mt-2 font-medium">Filament, Power & Maintenance</p>
                </div>

                <!-- Avg Order Value -->
                <div class="bg-[#1e293b] p-8 rounded-[2.5rem] border border-slate-800 shadow-xl group hover:border-primary/30 transition-all">
                    <div class="flex justify-between items-start mb-6">
                        <div class="p-3 bg-primary/10 rounded-2xl text-primary">
                            <span class="material-symbols-outlined text-2xl">shopping_bag</span>
                        </div>
                        <span class="text-primary text-[10px] font-black bg-primary/10 px-2.5 py-1 rounded-lg">+$12.00</span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-black uppercase tracking-[2px]">Avg Order Value</p>
                    <p id="report-avg-order" class="text-3xl font-black mt-2 text-white">$0.00</p>
                    <p class="text-[10px] text-slate-500 mt-2 font-medium">Growth in 3D miniatures</p>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8">
                <!-- Revenue Trend -->
                <div class="xl:col-span-2 bg-[#1e293b] rounded-[1.5rem] lg:rounded-[2.5rem] border border-slate-800 p-6 lg:p-10 shadow-2xl">
                    <div class="flex justify-between items-center mb-10">
                        <div>
                            <h3 class="text-xl font-black text-white">Revenue vs Expenses</h3>
                            <p class="text-xs text-slate-500 font-bold mt-1">6-month growth projection</p>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex items-center gap-2"><span class="size-2 bg-primary rounded-full"></span><span class="text-[10px] text-slate-400 font-black uppercase">Revenue</span></div>
                            <div class="flex items-center gap-2"><span class="size-2 bg-rose-500 rounded-full"></span><span class="text-[10px] text-slate-400 font-black uppercase">Expenses</span></div>
                        </div>
                    </div>
                    <div class="h-[350px]">
                        <canvas id="growthChart"></canvas>
                    </div>
                </div>

                <!-- Expense Donut -->
                <div class="bg-[#1e293b] rounded-[1.5rem] lg:rounded-[2.5rem] border border-slate-800 p-6 lg:p-10 shadow-2xl flex flex-col min-h-[450px]">
                    <h3 class="text-xl font-black text-white mb-8">Cost Distribution</h3>
                    <div class="flex-1 relative flex items-center justify-center">
                        <canvas id="expenseDonut"></canvas>
                        <div class="absolute text-center">
                            <p class="text-[10px] text-slate-500 font-black uppercase tracking-widest">Total Cost</p>
                            <p id="report-donut-total" class="text-2xl font-black text-white">$0.00</p>
                        </div>
                    </div>
                    <div class="mt-8 space-y-4">
                        <div class="flex justify-between items-center bg-slate-800/30 p-3 rounded-2xl border border-slate-700/30">
                            <span class="text-[10px] font-black text-slate-400 uppercase">Filament & Resin</span>
                            <span class="text-xs font-black text-white">45%</span>
                        </div>
                        <div class="flex justify-between items-center bg-slate-800/30 p-3 rounded-2xl border border-slate-700/30">
                            <span class="text-[10px] font-black text-slate-400 uppercase">Power & Rent</span>
                            <span class="text-xs font-black text-white">25%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lower Detail Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Top Products -->
                <div class="bg-[#1e293b] rounded-[2.5rem] border border-slate-800 p-8 shadow-2xl space-y-8">
                    <h3 class="text-lg font-black text-white">Top Revenue Drivers</h3>
                    <div id="topProductsContainer" class="space-y-6">
                        <div class="flex items-center gap-4">
                            <div class="size-12 rounded-2xl bg-blue-500/10 text-primary flex items-center justify-center font-black border border-primary/20">1</div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-black text-white">Spiderman 4K Statue</p>
                                <p class="text-[10px] text-slate-500 font-bold uppercase mt-1">84 Orders • $52K Rev</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="size-12 rounded-2xl bg-slate-800 text-slate-400 flex items-center justify-center font-black border border-slate-700">2</div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-black text-white">Lithophane Frame</p>
                                <p class="text-[10px] text-slate-500 font-bold uppercase mt-1">52 Orders • $18K Rev</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="size-12 rounded-2xl bg-slate-800 text-slate-400 flex items-center justify-center font-black border border-slate-700">3</div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-black text-white">Gamer Desk Suite</p>
                                <p class="text-[10px] text-slate-500 font-bold uppercase mt-1">31 Orders • $12K Rev</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Printer Fleet Performance -->
                <div class="bg-[#1e293b] rounded-[2.5rem] border border-slate-800 p-8 shadow-2xl space-y-6">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-black text-white">Printer Fleet</h3>
                        <span class="text-[10px] font-black text-emerald-500 bg-emerald-500/10 px-2 py-1 rounded-lg">85% Efficiency</span>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-700/30">
                            <div class="flex items-center gap-3">
                                <span class="size-2 bg-emerald-500 rounded-full animate-pulse"></span>
                                <p class="text-[11px] font-black text-white">Bambu Lab X1-C</p>
                            </div>
                            <p class="text-[10px] text-slate-500 font-bold">Printing • 72% Done</p>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-700/30">
                            <div class="flex items-center gap-3">
                                <span class="size-2 bg-emerald-500 rounded-full animate-pulse"></span>
                                <p class="text-[11px] font-black text-white">Ender 3 S1 Pro</p>
                            </div>
                            <p class="text-[10px] text-slate-500 font-bold">Printing • 14% Done</p>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-slate-800/40 rounded-2xl border border-slate-700/30 opacity-60">
                            <div class="flex items-center gap-3">
                                <span class="size-2 bg-slate-500 rounded-full"></span>
                                <p class="text-[11px] font-black text-white">Prusa MK4</p>
                            </div>
                            <p class="text-[10px] text-slate-500 font-bold">Idle • Ready</p>
                        </div>
                        <div class="flex items-center justify-between p-4 bg-rose-500/5 rounded-2xl border border-rose-500/20">
                            <div class="flex items-center gap-3">
                                <span class="size-2 bg-rose-500 rounded-full"></span>
                                <p class="text-[11px] font-black text-white">Anycubic Photon</p>
                            </div>
                            <p class="text-[10px] text-rose-400 font-black">Maintenance</p>
                        </div>
                    </div>
                </div>

                <!-- Raw Material Inventory -->
                <div class="bg-[#1e293b] rounded-[2.5rem] border border-slate-800 p-8 shadow-2xl space-y-8">
                    <h3 class="text-lg font-black text-white">Stock Inventory</h3>
                    <div class="space-y-6">
                        <div class="space-y-2">
                            <div class="flex justify-between text-[11px] font-black uppercase">
                                <span class="text-slate-200">PLA+ (Black)</span>
                                <span class="text-primary">12.4 Kg Left</span>
                            </div>
                            <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                <div class="bg-primary h-full rounded-full" style="width: 65%"></div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between text-[11px] font-black uppercase">
                                <span class="text-slate-200">PETG (Grey)</span>
                                <span class="text-emerald-500">4.1 Kg Left</span>
                            </div>
                            <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                <div class="bg-emerald-500 h-full rounded-full" style="width: 25%"></div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between text-[11px] font-black uppercase">
                                <span class="text-slate-200">UV Resin (405nm)</span>
                                <span class="text-rose-500">0.8 Lts Left</span>
                            </div>
                            <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden">
                                <div class="bg-rose-500 h-full rounded-full" style="width: 8%"></div>
                            </div>
                        </div>
                    </div>
                    <button class="w-full py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-white transition-all">Order Supplies</button>
                </div>
            </div>

            <!-- Customer Happiness & Regions -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 pb-10">
                <!-- Regional Performance -->
                <div class="bg-[#1e293b] rounded-[2.5rem] border border-slate-800 p-8 shadow-2xl space-y-6">
                    <h3 class="text-lg font-black text-white">Sales Heatmap (Regions)</h3>
                    <div id="regionsContainer" class="grid grid-cols-2 gap-4">
                        <div class="p-4 bg-slate-800/30 rounded-2xl border border-slate-700/30 text-center">
                            <p class="text-[10px] text-slate-500 font-black uppercase">Loading...</p>
                        </div>
                    </div>
                </div>

                <!-- Customer Happiness -->
                <div class="bg-[#1e293b] rounded-[2.5rem] border border-slate-800 p-8 shadow-2xl flex items-center gap-10">
                    <div class="size-32 rounded-full border-8 border-primary/20 border-t-primary flex items-center justify-center relative shadow-[0_0_30px_rgba(59,130,246,0.2)]">
                        <span class="text-3xl font-black text-white">4.9</span>
                    </div>
                    <div class="flex-1 space-y-3">
                        <h4 class="text-xl font-black text-white">Customer Satisfaction</h4>
                        <p class="text-xs text-slate-500 font-medium">Your quality score is in the top 5% of 3D printing services in Egypt.</p>
                        <div class="flex gap-1">
                            <span class="material-symbols-outlined text-primary text-[20px] fill">star</span>
                            <span class="material-symbols-outlined text-primary text-[20px] fill">star</span>
                            <span class="material-symbols-outlined text-primary text-[20px] fill">star</span>
                            <span class="material-symbols-outlined text-primary text-[20px] fill">star</span>
                            <span class="material-symbols-outlined text-primary text-[20px] fill">star</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            // Growth Chart
            const growthCtx = document.getElementById('growthChart').getContext('2d');
            window.growthChart = new Chart(growthCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [
                        {
                            label: 'Revenue',
                            data: [0, 0, 0, 0, 0, 0],
                            borderColor: '#3b82f6',
                            borderWidth: 4,
                            tension: 0.4,
                            pointRadius: 0,
                            fill: true,
                            backgroundColor: 'rgba(59, 130, 246, 0.05)'
                        },
                        {
                            label: 'Expenses',
                            data: [0, 0, 0, 0, 0, 0],
                            borderColor: '#ef4444',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0.4,
                            pointRadius: 0,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { grid: { color: 'rgba(255,255,255,0.03)' }, ticks: { color: '#64748b', font: { size: 10, weight: 'bold' } } },
                        x: { grid: { display: false }, ticks: { color: '#64748b', font: { size: 10, weight: 'bold' } } }
                    }
                }
            });

            // Expense Donut
            const donutCtx = document.getElementById('expenseDonut').getContext('2d');
            window.expenseDonut = new Chart(donutCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Materials', 'Utilities', 'Maintenance', 'Marketing'],
                    datasets: [{
                        data: [0, 0, 0, 0],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#6366f1'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '85%',
                    plugins: { legend: { display: false } }
                }
            });
        });
    </script>
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('mainSidebar');
            const overlay = document.getElementById('sidebarOverlay');
            const isOpen = !sidebar.classList.contains('-translate-x-full');
            
            if (isOpen) {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
                overlay.classList.replace('opacity-100', 'opacity-0');
            } else {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => {
                    overlay.classList.replace('opacity-0', 'opacity-100');
                }, 10);
            }
        }
    </script>
</body>
</html>
